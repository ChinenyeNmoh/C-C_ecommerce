<div class="container-fluid">
    <div class="row">
        {{#each products}}
        <div class="col-md-3 mb-4">
            <div class="card" style="height: 100%;">
                <!-- Wrap only the image with the link -->
                <a href="/api/product/{{{this._id}}}" class="card-link dis">
                    <img src="{{this.images.[0].url}}" class="card-img-top" alt="{{this.name}}">
                </a>
                <div class="card-body">
                    <div class="adds d-flex justify-content-center">
                        <!-- Modify the link to call JavaScript function when clicked -->
                        <!-- Modify the link to call JavaScript function when clicked -->
                    <a class="add-to-cart" href="/api/cart/{{this._id}}" >
                        <i class="fa fa-shopping-cart" aria-hidden="true"></i>
                             Add to Cart
                        </a>

                        <a class="add-to-wishlist" href="/api/user/wishlist/{{this._id}}">
                            <i class="fa-regular fa-heart" aria-hidden="true"></i>
                            Add to Wishlist
                        </a>
                    </div>
                    {{#if this.quantity}}
                    <p class="card-title"><strong>Name: </strong>{{this.name}}</p>
                    <p class="card-text"><strong>Price: </strong>N{{this.price}}</p>
                    {{else}}
                    <p class="card-title"><strong>Name: </strong>{{this.name}}</p>
                    <p class="card-text text-decoration-line-through"><strong>Price: </strong>N{{this.price}}</p>
                    <p class="card-title text-danger"><strong>Sold Out</strong></p>
                    {{/if}}
                    {{#if this.discountedPrice}}
                    <p class="card-text"><strong>Discounted Price: </strong>N{{this.discountedPrice}}</p>
                    {{/if}}
                </div>
            </div>
        </div>
        {{/each}}
    </div>
</div>


<nav aria-label="Page navigation example" class="prod-cat d-flex justify-content-center">
    <ul class="pagination">
        <li class="page-item"><a class="page-link" href="{{{prevPage}}}">Previous</a></li>
        <li class="page-item" style="margin-left: 15px;"><a class="page-link next" href="{{{nextPage}}}">Next</a></li>
    </ul> <!-- close ul -->
</nav>
